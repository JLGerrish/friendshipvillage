!function(e,t){if("function"==typeof define&&define.amd)define(["jquery","TweenMax","TimelineMax"],t);else{var n=t(e.jQuery,e.TweenMax,e.TimelineMax);e.ScrollMagic=n.Controller,e.ScrollScene=n.Scene}}(this,function(e,t,n){var r=function(t){var n,r,a="ScrollMagic",f={container:window,vertical:!0,globalSceneOptions:{},loglevel:2,refreshInterval:100},g=this,d=e.extend({},f,t),h=[],p=!1,v=0,w="PAUSED",m=!0,R=0,S=!0,E=function(){return d.vertical?d.container.scrollTop():d.container.scrollLeft()},y=function(e){d.vertical?d.container.scrollTop(e):d.container.scrollLeft(e)},b=function(){if(n=c(b),S&&p){var t=e.isArray(p)?p:h.slice(0),r=v,i=(v=g.scrollPos())-r;w=0===i?"PAUSED":i>0?"FORWARD":"REVERSE",i<0&&t.reverse(),e.each(t,function(e,n){O(3,"updating Scene "+(e+1)+"/"+t.length+" ("+h.length+" total)"),n.update(!0)}),0===t.length&&d.loglevel>=3&&O(3,"updating 0 Scenes (nothing added to controller)"),p=!1}},T=function(e){"resize"==e.type&&(R=d.vertical?d.container.height():d.container.width()),p=!0},F=function(){m||R!=(d.vertical?d.container.height():d.container.width())&&d.container.trigger("resize"),e.each(h,function(e,t){t.refresh()})},O=function(e,t){if(d.loglevel>=e){var n=Array.prototype.splice.call(arguments,1);n.unshift(e,"(ScrollMagic) ->"),o.apply(window,n)}},I=function(e){if(e.length<=1)return e;var t=e.slice(0);return t.sort(function(e,t){return e.scrollOffset()>t.scrollOffset()?1:-1}),t};return this.addScene=function(t){return e.isArray(t)?e.each(t,function(e,t){g.addScene(t)}):t instanceof i?t.parent()!=g?t.addTo(g):e.inArray(t,h)<0&&(h.push(t),h=I(h),t.on("shift.ScrollMagic_sort",function(){h=I(h)}),e.each(d.globalSceneOptions,function(e,n){t[e]&&t[e].call(t,n)}),O(3,"added Scene ("+h.length+" total)")):O(1,"ERROR: invalid argument supplied for '.addScene()'"),g},this.removeScene=function(t){if(e.isArray(t))e.each(t,function(e,t){g.removeScene(t)});else{var n=e.inArray(t,h);n>-1&&(t.off("shift.ScrollMagic_sort"),h.splice(n,1),t.remove(),O(3,"removed Scene ("+h.length+" total)"))}return g},this.updateScene=function(t,n){return e.isArray(t)?e.each(t,function(e,t){g.updateScene(t,n)}):n?t.update(!0):(e.isArray(p)||(p=[]),-1==e.inArray(t,p)&&p.push(t),p=I(p)),g},this.update=function(e){return T({type:"resize"}),e&&b(),g},this.scrollTo=function(t){if(t instanceof i)t.parent()===g?g.scrollTo(t.scrollOffset()):O(2,"scrollTo(): The supplied scene does not belong to this controller. Scroll cancelled.",t);else if("string"===e.type(t)||s(t)||t instanceof e){var n=e(t).first();if(n[0]){var r=d.vertical?"top":"left",o=l(d.container),a=l(n);m||(o[r]-=g.scrollPos()),g.scrollTo(a[r]-o[r])}else O(2,"scrollTo(): The supplied element could not be found. Scroll cancelled.",t)}else e.isFunction(t)?y=t:y.call(d.container[0],t);return g},this.scrollPos=function(t){return arguments.length?(e.isFunction(t)?E=t:O(2,"Provided value for method 'scrollPos' is not a function. To change the current scroll position use 'scrollTo()'."),g):E.call(g)},this.info=function(e){var t={size:R,vertical:d.vertical,scrollPos:v,scrollDirection:w,container:d.container,isDocument:m};return arguments.length?void 0!==t[e]?t[e]:void O(1,'ERROR: option "'+e+'" is not available'):t},this.loglevel=function(e){return arguments.length?(d.loglevel!=e&&(d.loglevel=e),g):d.loglevel},this.enabled=function(e){return arguments.length?(S!=e&&(S=!!e,g.updateScene(h,!0)),g):S},this.destroy=function(e){window.clearTimeout(r);for(var t=h.length;t--;)h[t].destroy(e);return d.container.off("scroll resize",T),u(n),O(3,"destroyed ScrollMagic (reset: "+(e?"true":"false")+")"),null},function(){if(g.version=g.constructor.version,e.each(d,function(e,t){f.hasOwnProperty(e)||(O(2,'WARNING: Unknown option "'+e+'"'),delete d[e])}),d.container=e(d.container).first(),0===d.container.length)throw O(1,"ERROR creating object ScrollMagic: No valid scroll container supplied"),a+" init failed.";(m=!e.contains(document,d.container.get(0)))||d.container.on("resize",function(e){e.stopPropagation()}),R=d.vertical?d.container.height():d.container.width(),d.container.on("scroll resize",T),d.refreshInterval=parseInt(d.refreshInterval),d.refreshInterval>0&&(r=window.setInterval(F,d.refreshInterval)),n=c(b),O(3,"added new ScrollMagic controller (v"+g.version+")")}(),g};r.version="1.3.0";var i=function(t){var i,s,c,u,f,g,d,h={onCenter:.5,onEnter:1,onLeave:0},p="ScrollScene",v={duration:0,offset:0,triggerElement:null,triggerHook:"onCenter",reverse:!0,tweenChanges:!1,loglevel:2},w=this,m=e.extend({},v,t),R="BEFORE",S=0,E={start:0,end:0},y=0,b=!0,T={unknownOptionSupplied:function(){e.each(m,function(e,t){v.hasOwnProperty(e)||(F(2,'WARNING: Unknown option "'+e+'"'),delete m[e])})},duration:function(){if(e.isFunction(m.duration)){i=m.duration;try{m.duration=parseFloat(i())}catch(e){F(1,'ERROR: Invalid return value of supplied function for option "duration":',m.duration),i=void 0,m.duration=v.duration}}else m.duration=parseFloat(m.duration),(!e.isNumeric(m.duration)||m.duration<0)&&(F(1,'ERROR: Invalid value for option "duration":',m.duration),m.duration=v.duration)},offset:function(){m.offset=parseFloat(m.offset),e.isNumeric(m.offset)||(F(1,'ERROR: Invalid value for option "offset":',m.offset),m.offset=v.offset)},triggerElement:function(){null!==m.triggerElement&&0===e(m.triggerElement).length&&(F(1,'ERROR: Element defined in option "triggerElement" was not found:',m.triggerElement),m.triggerElement=v.triggerElement)},triggerHook:function(){m.triggerHook in h||(e.isNumeric(m.triggerHook)?m.triggerHook=Math.max(0,Math.min(parseFloat(m.triggerHook),1)):(F(1,'ERROR: Invalid value for option "triggerHook": ',m.triggerHook),m.triggerHook=v.triggerHook))},reverse:function(){m.reverse=!!m.reverse},tweenChanges:function(){m.tweenChanges=!!m.tweenChanges},loglevel:function(){if(m.loglevel=parseInt(m.loglevel),!e.isNumeric(m.loglevel)||m.loglevel<0||m.loglevel>3){var t=m.loglevel;m.loglevel=v.loglevel,F(1,'ERROR: Invalid value for option "loglevel":',t)}}},F=function(e,t){if(m.loglevel>=e){var n=Array.prototype.splice.call(arguments,1);n.unshift(e,"(ScrollScene) ->"),o.apply(window,n)}},O=function(t){if(arguments.length)e.isArray(t)||(t=[t]);else{t=[];for(var n in T)t.push(n)}e.each(t,function(e,t){T[t]&&T[t]()})},I=function(e,t){var n=!1,r=m[e];return m[e]!=t&&(m[e]=t,O(e),n=r!=m[e]),n},z=function(){E={start:y+m.offset},s&&m.triggerElement&&(E.start-=s.info("size")*w.triggerHook()),E.end=E.start+m.duration},C=function(e){if(i){I("duration",i.call(w))&&!e&&(w.trigger("change",{what:"duration",newval:m.duration}),w.trigger("shift",{reason:"duration"}))}},N=function(t){var n=0;if(s&&m.triggerElement){for(var r=e(m.triggerElement).first(),i=s.info(),o=l(i.container),a=i.vertical?"top":"left";r.parent().data("ScrollMagicPinSpacer");)r=r.parent();var c=l(r);i.isDocument||(o[a]-=s.scrollPos()),n=c[a]-o[a]}var u=n!=y;y=n,u&&!t&&w.trigger("shift",{reason:"triggerElementPosition"})},D=function(e){if(c){var t=e>=0&&e<=1?e:S;if(-1===c.repeat())if("DURING"===R&&c.paused())c.play();else{if("DURING"===R||c.paused())return!1;c.pause()}else{if(t==c.progress())return!1;0===m.duration?"DURING"===R?c.play():c.reverse():m.tweenChanges?c.tweenTo(t*c.duration()):c.progress(t).pause()}return!0}return!1},A=function(e){if(u&&s){var t=s.info();if(e||"DURING"!==R){var n={position:f.inFlow?"relative":"absolute",top:0,left:0},r=u.css("position")!=n.position;f.pushFollowers?m.duration>0&&("AFTER"===R&&0===parseFloat(f.spacer.css("padding-top"))?r=!0:"BEFORE"===R&&0===parseFloat(f.spacer.css("padding-bottom"))&&(r=!0)):n[t.vertical?"top":"left"]=m.duration*S,u.css(n),r&&(u.removeClass(f.pinnedClass),P())}else{"fixed"!=u.css("position")&&(u.css("position","fixed"),P(),u.addClass(f.pinnedClass));var i=l(f.spacer,!0),o=m.reverse||0===m.duration?t.scrollPos-E.start:Math.round(S*m.duration*10)/10;i.top-=parseFloat(f.spacer.css("margin-top")),i[t.vertical?"top":"left"]+=o,u.css({top:i.top,left:i.left})}}},P=function(){if(u&&s&&f.inFlow){var t="AFTER"===R,n="BEFORE"===R,r="DURING"===R,i="fixed"==u.css("position"),o=s.info("vertical"),l=f.spacer.children().first(),c=a(f.spacer.css("display")),g={};c?(g["margin-top"]=n||r&&i?u.css("margin-top"):"auto",g["margin-bottom"]=t||r&&i?u.css("margin-bottom"):"auto"):g["margin-top"]=g["margin-bottom"]="auto",f.relSize.width||f.relSize.autoFullWidth?i?e(window).width()==f.spacer.parent().width()?u.css("width",f.relSize.autoFullWidth?"100%":"inherit"):u.css("width",f.spacer.width()):u.css("width","100%"):(g["min-width"]=l.outerWidth(!l.is(u)),g.width=i?g["min-width"]:"auto"),f.relSize.height?i?e(window).height()==f.spacer.parent().height()?u.css("height","inherit"):u.css("height",f.spacer.height()):u.css("height","100%"):(g["min-height"]=l.outerHeight(!c),g.height=i?g["min-height"]:"auto"),f.pushFollowers&&(g["padding"+(o?"Top":"Left")]=m.duration*S,g["padding"+(o?"Bottom":"Right")]=m.duration*(1-S)),f.spacer.css(g)}},x=function(){s&&u&&"DURING"===R&&!s.info("isDocument")&&A()},M=function(){s&&u&&"DURING"===R&&((f.relSize.width||f.relSize.autoFullWidth)&&e(window).width()!=f.spacer.parent().width()||f.relSize.height&&e(window).height()!=f.spacer.parent().height())&&P()},k=function(e){s&&u&&"DURING"===R&&!s.info("isDocument")&&(e.preventDefault(),s.scrollTo(s.info("scrollPos")-(e.originalEvent.wheelDelta/3||30*-e.originalEvent.detail)))};return this.parent=function(){return s},this.duration=function(t){return arguments.length?(e.isFunction(t)||(i=void 0),I("duration",t)&&(w.trigger("change",{what:"duration",newval:m.duration}),w.trigger("shift",{reason:"duration"})),w):m.duration},this.offset=function(e){return arguments.length?(I("offset",e)&&(w.trigger("change",{what:"offset",newval:m.offset}),w.trigger("shift",{reason:"offset"})),w):m.offset},this.triggerElement=function(e){var t="triggerElement";return arguments.length?(I(t,e)&&w.trigger("change",{what:t,newval:m[t]}),w):m[t]},this.triggerHook=function(t){var n="triggerHook";return arguments.length?(I(n,t)&&(w.trigger("change",{what:n,newval:m[n]}),w.trigger("shift",{reason:n})),w):e.isNumeric(m[n])?m[n]:h[m[n]]},this.reverse=function(e){return arguments.length?(I("reverse",e)&&w.trigger("change",{what:"reverse",newval:m.reverse}),w):m.reverse},this.tweenChanges=function(e){var t="tweenChanges";return arguments.length?(I(t,e)&&w.trigger("change",{what:t,newval:m[t]}),w):m[t]},this.loglevel=function(e){return arguments.length?(I("loglevel",e)&&w.trigger("change",{what:"loglevel",newval:m.loglevel}),w):m.loglevel},this.state=function(){return R},this.triggerPosition=function(){var e=m.offset;return s&&(m.triggerElement?e+=y:e+=s.info("size")*w.triggerHook()),e},this.triggerOffset=function(){return w.triggerPosition()},this.scrollOffset=function(){return E.start},this.update=function(e){if(s)if(e)if(s.enabled()&&b){var t,n=s.info("scrollPos");t=m.duration>0?(n-E.start)/(E.end-E.start):n>=E.start?1:0,w.trigger("update",{startPos:E.start,endPos:E.end,scrollPos:n}),w.progress(t)}else u&&"DURING"===R&&A(!0);else s.updateScene(w,!1);return w},this.refresh=function(){return C(),N(),w},this.progress=function(e){if(arguments.length){var t=!1,n=R,r=s?s.info("scrollDirection"):"PAUSED",i=m.reverse||e>=S;if(0===m.duration?(t=S!=e,R=0===(S=e<1&&i?0:1)?"BEFORE":"DURING"):e<=0&&"BEFORE"!==R&&i?(S=0,R="BEFORE",t=!0):e>0&&e<1&&i?(S=e,R="DURING",t=!0):e>=1&&"AFTER"!==R?(S=1,R="AFTER",t=!0):"DURING"!==R||i||A(),t){var o={progress:S,state:R,scrollDirection:r},l=R!=n,a=function(e){w.trigger(e,o)};l&&"DURING"!==n&&(a("enter"),a("BEFORE"===n?"start":"end")),a("progress"),l&&"DURING"!==R&&(a("BEFORE"===R?"start":"end"),a("leave"))}return w}return S},this.setTween=function(t){if(!n)return F(1,"ERROR: TimelineMax wasn't found. Please make sure GSAP is loaded before ScrollMagic or use asynchronous loading."),w;c&&w.removeTween();try{c=new n({smoothChildTiming:!0}).add(t).pause()}catch(e){F(1,"ERROR calling method 'setTween()': Supplied argument is not a valid TweenObject")}finally{t.repeat&&-1===t.repeat()&&(c.repeat(-1),c.yoyo(t.yoyo()))}if(c&&s&&m.triggerElement&&m.loglevel>=2){var r=c.getTweensOf(e(m.triggerElement)),i=s.info("vertical");e.each(r,function(e,t){var n=t.vars.css||t.vars;if(i?void 0!==n.top||void 0!==n.bottom:void 0!==n.left||void 0!==n.right)return F(2,"WARNING: Tweening the position of the trigger element affects the scene timing and should be avoided!"),!1})}if(parseFloat(TweenLite.version)>=1.14)for(var o,l,a=c.getChildren(!0,!0,!1),u=function(){F(2,"WARNING: tween was overwritten by another. To learn how to avoid this issue see here: https://github.com/janpaepke/ScrollMagic/wiki/WARNING:-tween-was-overwritten-by-another")},f=0;f<a.length;f++)o=a[f],l!==u&&(l=o.vars.onOverwrite,o.vars.onOverwrite=function(){l&&l.apply(this,arguments),u.apply(this,arguments)});return F(3,"added tween"),D(),w},this.removeTween=function(e){return c&&(e&&D(0),c.kill(),c=void 0,F(3,"removed tween (reset: "+(e?"true":"false")+")")),w},this.setPin=function(t,n){var r={pushFollowers:!0,spacerClass:"scrollmagic-pin-spacer",pinnedClass:""};if(n=e.extend({},r,n),0===(t=e(t).first()).length)return F(1,"ERROR calling method 'setPin()': Invalid pin element supplied."),w;if("fixed"==t.css("position"))return F(1,"ERROR calling method 'setPin()': Pin does not work with elements that are positioned 'fixed'."),w;if(u){if(u===t)return w;w.removePin()}(u=t).parent().hide();var i="absolute"!=u.css("position"),o=u.css(["display","top","left","bottom","right"]),l=u.css(["width","height"]);u.parent().show(),"0px"===l.width&&i&&a(o.display),!i&&n.pushFollowers&&(F(2,"WARNING: If the pinned element is positioned absolutely pushFollowers is disabled."),n.pushFollowers=!1);var s=e("<div></div>").addClass(n.spacerClass).css(o).data("ScrollMagicPinSpacer",!0).css({position:i?"relative":"absolute","margin-left":"auto","margin-right":"auto","box-sizing":"content-box"}),c=u[0].style;return(f={spacer:s,relSize:{width:"%"===l.width.slice(-1),height:"%"===l.height.slice(-1),autoFullWidth:"0px"===l.width&&i&&a(o.display)},pushFollowers:n.pushFollowers,inFlow:i,origStyle:{width:c.width||"",position:c.position||"",top:c.top||"",left:c.left||"",bottom:c.bottom||"",right:c.right||"","box-sizing":c["box-sizing"]||"","-moz-box-sizing":c["-moz-box-sizing"]||"","-webkit-box-sizing":c["-webkit-box-sizing"]||""},pinnedClass:n.pinnedClass}).relSize.width&&s.css("width",l.width),f.relSize.height&&s.css("height",l.height),u.before(s).appendTo(s).css({position:i?"relative":"absolute",top:"auto",left:"auto",bottom:"auto",right:"auto"}),(f.relSize.width||f.relSize.autoFullWidth)&&u.css("box-sizing","border-box"),e(window).on("scroll.ScrollScene_pin resize.ScrollScene_pin",x),u.on("mousewheel DOMMouseScroll",k),F(3,"added pin"),A(),w},this.removePin=function(t){return u&&(t||!s?(u.insertBefore(f.spacer).css(f.origStyle),f.spacer.remove()):"DURING"===R&&A(!0),e(window).off("scroll.ScrollScene_pin resize.ScrollScene_pin"),u.off("mousewheel DOMMouseScroll",k),u=void 0,F(3,"removed pin (reset: "+(t?"true":"false")+")")),w},this.setClassToggle=function(t,n){var r=e(t);return 0===r.length||"string"!==e.type(n)?(F(1,"ERROR calling method 'setClassToggle()': Invalid "+(0===r.length?"element":"classes")+" supplied."),w):(g=n,d=r,w.on("enter.internal_class leave.internal_class",function(e){d.toggleClass(g,"enter"===e.type)}),w)},this.removeClassToggle=function(e){return d&&e&&d.removeClass(g),w.off("start.internal_class end.internal_class"),g=void 0,d=void 0,w},this.addTo=function(e){return e instanceof r?s!=e&&(s&&s.removeScene(w),s=e,O(),C(!0),N(!0),z(),P(),s.info("container").on("resize."+p,function(){M(),w.triggerHook()>0&&w.trigger("shift",{reason:"containerSize"})}),F(3,"added ScrollScene to controller"),e.addScene(w),w.update()):F(1,"ERROR: supplied argument of 'addTo()' is not a valid ScrollMagic controller"),w},this.enabled=function(e){return arguments.length?(b!=e&&(b=!!e,w.update(!0)),w):b},this.remove=function(){if(s){s.info("container").off("resize."+p);var e=s;s=void 0,F(3,"removed ScrollScene from controller"),e.removeScene(w)}return w},this.destroy=function(e){return w.removeTween(e),w.removePin(e),w.removeClassToggle(e),w.trigger("destroy",{reset:e}),w.remove(),w.off("start end enter leave progress change update shift destroy shift.internal change.internal progress.internal"),F(3,"destroyed ScrollScene (reset: "+(e?"true":"false")+")"),null},this.on=function(t,n){if(e.isFunction(n)){var r=e.trim(t).toLowerCase().replace(/(\w+)\.(\w+)/g,"$1.ScrollScene_$2").replace(/( |^)(\w+)(?= |$)/g,"$1$2."+p);e(w).on(r,n)}else F(1,"ERROR calling method 'on()': Supplied argument is not a valid callback!");return w},this.off=function(t,n){var r=e.trim(t).toLowerCase().replace(/(\w+)\.(\w+)/g,"$1.ScrollScene_$2").replace(/( |^)(\w+)(?= |$)/g,"$1$2.ScrollScene$3");return e(w).off(r,n),w},this.trigger=function(t,n){F(3,"event fired:",t,"->",n);var r=e.Event(e.trim(t).toLowerCase(),n);return e(w).trigger(r),w},O(),w.on("change.internal",function(e){"loglevel"!==e.what&&"tweenChanges"!==e.what&&("triggerElement"===e.what?N():"reverse"===e.what&&w.update())}).on("shift.internal",function(e){z(),w.update(),("AFTER"===R&&"duration"===e.reason||"DURING"===R&&0===m.duration)&&A()}).on("progress.internal",function(e){D(),A()}).on("destroy",function(e){e.preventDefault()}),w},o=function(e){var t=["error","warn","log"];e.log||(e.log=function(){});for(var n,r=0;r<t.length;r++)e[n=t[r]]||(e[n]=e.log);return function(n){(n>t.length||n<=0)&&(n=t.length);var r=new Date,i=("0"+r.getHours()).slice(-2)+":"+("0"+r.getMinutes()).slice(-2)+":"+("0"+r.getSeconds()).slice(-2)+":"+("00"+r.getMilliseconds()).slice(-3),o=t[n-1],l=Array.prototype.splice.call(arguments,1),s=Function.prototype.bind.call(e[o],e);l.unshift(i),s.apply(e,l)}}(window.console=window.console||{}),l=function(e,t){var n={top:0,left:0};if((e=e[0])&&e.getBoundingClientRect){var r=e.getBoundingClientRect();n.top=r.top,n.left=r.left,t||(n.top+=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||0),n.left+=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0))}return n},s=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},a=function(e){return["block","flex","list-item","table","-webkit-box"].indexOf(e)>-1},c=window.requestAnimationFrame,u=window.cancelAnimationFrame;return function(e){var t,n=0,r=["ms","moz","webkit","o"];for(t=0;!c&&t<r.length;++t)c=e[r[t]+"RequestAnimationFrame"],u=e[r[t]+"CancelAnimationFrame"]||e[r[t]+"CancelRequestAnimationFrame"];c||(c=function(t){var r=(new Date).getTime(),i=Math.max(0,16-(r-n)),o=e.setTimeout(function(){t(r+i)},i);return n=r+i,o}),u||(u=function(t){e.clearTimeout(t)})}(window),{Controller:r,Scene:i}});